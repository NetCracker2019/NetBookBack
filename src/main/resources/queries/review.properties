
countReviews = select count(*) from review where approved = true;

addReviewForUserBook = insert into review (user_id, book_id, review_text, rating, approved) values \
  (:userId, :bookId, :reviewText, 0, false);

approveReview = update review set approved = true where review_id = :reviewId;

getReviewsByBookId = select r.review_id r_id, \
    r.user_id u_id, r.book_id b_id, p.person_name u_name, p.avatar_filepath av_path, \
    r.review_text r_text, r.rating rating, r.approved appr from review r \
    inner join person p on r.user_id = p.person_id \
    where r.book_id = :bookId and r.approved = true;

getReviewPeaceByBookId = select r.review_id r_id, \
    r.user_id u_id, r.book_id b_id, p.person_name u_name, p.avatar_filepath av_path, \
    r.review_text r_text, r.rating rating, r.approved appr from review r \
    inner join person p on r.user_id = p.person_id \
    where r.book_id = :bookId and r.approved = true \
    order by r_id \
    limit :count offset :offset;
